# –†–∞–∑–¥–µ–ª Calendar (/calendar)

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ](#–æ–±—â–µ–µ-–æ–ø–∏—Å–∞–Ω–∏–µ)
2. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-—Ñ–∞–π–ª–æ–≤)
3. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤)
4. [–ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö](#–º–æ–¥–µ–ª–∏-–¥–∞–Ω–Ω—ã—Ö)
5. [–ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞](#–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
6. [UI/UX –æ–ø–∏—Å–∞–Ω–∏–µ](#uiux-–æ–ø–∏—Å–∞–Ω–∏–µ)
7. [–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±—ç–∫–µ–Ω–¥–æ–º](#–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ-—Å-–±—ç–∫–µ–Ω–¥–æ–º)
8. [–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è](#–ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è)

---

## –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–†–∞–∑–¥–µ–ª **Calendar** –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –≤–∏–¥–µ —Å–ø–∏—Å–∫–∞ –ø–æ –¥–Ω—è–º –∏–ª–∏ –≤ –≤–∏–¥–µ –º–µ—Å—è—á–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
- –°–æ–∑–¥–∞–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- –û—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
- –£–ø—Ä–∞–≤–ª—è—Ç—å –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–º–∏—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏
- –ü—Ä–∏–º–µ–Ω—è—Ç—å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã (–ø—Ä–µ—Å–µ—Ç—ã) –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îî‚îÄ‚îÄ Calendar.tsx                    # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–∞–∑–¥–µ–ª–∞
‚îú‚îÄ‚îÄ components/calendar/
‚îÇ   ‚îú‚îÄ‚îÄ ListView.tsx                    # –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º (–ø–æ –¥–Ω—è–º)
‚îÇ   ‚îú‚îÄ‚îÄ CalendarView.tsx                # –ú–µ—Å—è—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—è
‚îÇ   ‚îú‚îÄ‚îÄ TimeSlotSection.tsx             # –°–µ–∫—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å–ª–æ—Ç–∞ (—É—Ç—Ä–æ, –¥–µ–Ω—å –∏ —Ç.–¥.)
‚îÇ   ‚îú‚îÄ‚îÄ ActivityItem.tsx                # –ö–∞—Ä—Ç–æ—á–∫–∞ –æ—Ç–¥–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ ActivityFormModal.tsx           # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ ActivityDetailModal.tsx         # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ TemplatesSidebar.tsx            # –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å —à–∞–±–ª–æ–Ω–∞–º–∏ –∏ –ø—Ä–µ—Å–µ—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ TemplateQuickView.tsx           # –ü–æ–ø–∞–ø –±—ã—Å—Ç—Ä–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —à–∞–±–ª–æ–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ PresetEditModal.tsx             # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–µ—Å–µ—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ DaySection.tsx                  # –°–µ–∫—Ü–∏—è –¥–Ω—è (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞)
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ activityPresets.ts              # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ categoryConfig.ts               # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ timeSlots.ts                    # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ recurrenceUtils.ts              # –õ–æ–≥–∏–∫–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
‚îÇ   ‚îú‚îÄ‚îÄ activitySync.ts                 # –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ dateUtils.ts                    # –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –¥–∞—Ç–∞–º–∏
‚îî‚îÄ‚îÄ types/
    ‚îî‚îÄ‚îÄ preset.ts                       # –¢–∏–ø—ã –¥–ª—è –ø—Ä–µ—Å–µ—Ç–æ–≤
```

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### –ò–µ—Ä–∞—Ä—Ö–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

```
Calendar.tsx (–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
‚îú‚îÄ‚îÄ AppLayout
‚îú‚îÄ‚îÄ ResizablePanelGroup
‚îÇ   ‚îú‚îÄ‚îÄ ResizablePanel (75% - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ Header (–Ω–∞–≤–∏–≥–∞—Ü–∏—è, –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–∏ –≤–∏–¥–∞)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Content
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ ListView (—Ä–µ–∂–∏–º —Å–ø–∏—Å–∫–∞)
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ Day Selector (7 –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏)
‚îÇ   ‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ TimeSlotSection √ó 6 (–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã)
‚îÇ   ‚îÇ       ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ActivityItem √ó N
‚îÇ   ‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Anytime Section
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ CalendarView (—Ä–µ–∂–∏–º –º–µ—Å—è—Ü–∞)
‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ Day Grid (—Å–µ—Ç–∫–∞ –¥–Ω–µ–π –º–µ—Å—è—Ü–∞)
‚îÇ   ‚îî‚îÄ‚îÄ ResizablePanel (25% - —Å–∞–π–¥–±–∞—Ä)
‚îÇ       ‚îî‚îÄ‚îÄ TemplatesSidebar
‚îÇ           ‚îú‚îÄ‚îÄ Preset Buttons
‚îÇ           ‚îú‚îÄ‚îÄ Impact Type Filter
‚îÇ           ‚îî‚îÄ‚îÄ Template Cards
‚îî‚îÄ‚îÄ ActivityFormModal
```

### –û–ø–∏—Å–∞–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

#### 1. Calendar.tsx (–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/pages/Calendar.tsx`

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
- `view`: `'list' | 'calendar'` ‚Äî —Ç–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `currentDate`: `Date` ‚Äî –≤—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∞—Ç–∞
- `isAddModalOpen`: `boolean` ‚Äî —Å–æ—Å—Ç–æ—è–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è
- `initialSlot`: `string | null` ‚Äî –Ω–∞—á–∞–ª—å–Ω—ã–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç –¥–ª—è –Ω–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- `initialDate`: `string | null` ‚Äî –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –¥–ª—è –Ω–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–§—É–Ω–∫—Ü–∏–∏:**
- `goToPreviousWeek()` / `goToNextWeek()` ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –Ω–µ–¥–µ–ª—è–º
- `goToToday()` ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ –∫ —Ç–µ–∫—É—â–µ–º—É –¥–Ω—é
- `handleSlotClick(slot, date)` ‚Äî –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–ª–∏–∫–∞ –ø–æ –ø—É—Å—Ç–æ–º—É —Å–ª–æ—Ç—É
- `handleModalClose()` ‚Äî –∑–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

---

#### 2. ListView.tsx (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–º)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/components/calendar/ListView.tsx`

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
- `activities`: –º–∞—Å—Å–∏–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –Ω–∞ –≤—ã–±—Ä–∞–Ω–Ω—É—é –¥–∞—Ç—É
- `loading`: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏
- –ì—Ä—É–ø–ø–∏—Ä—É–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å–ª–æ—Ç–∞–º
- –ü–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ realtime-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Supabase
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞

**–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Å–ª–æ—Ç—ã:**
```typescript
TIME_SLOTS = [
  { key: 'early_morning', startHour: 5, endHour: 9, emoji: 'üåÖ' },   // –†–∞–Ω–Ω–µ–µ —É—Ç—Ä–æ
  { key: 'late_morning', startHour: 9, endHour: 12, emoji: '‚òï' },   // –ü–æ–∑–¥–Ω–µ–µ —É—Ç—Ä–æ
  { key: 'midday', startHour: 12, endHour: 15, emoji: '‚òÄÔ∏è' },        // –ü–æ–ª–¥–µ–Ω—å
  { key: 'afternoon', startHour: 15, endHour: 18, emoji: 'üå§Ô∏è' },    // –î–µ–Ω—å
  { key: 'evening', startHour: 18, endHour: 22, emoji: 'üåÜ' },       // –í–µ—á–µ—Ä
  { key: 'night', startHour: 22, endHour: 5, emoji: 'üåô' },          // –ù–æ—á—å
  'anytime' ‚Äî –±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫–æ –≤—Ä–µ–º–µ–Ω–∏
]
```

---

#### 3. CalendarView.tsx (–ú–µ—Å—è—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/components/calendar/CalendarView.tsx`

**–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–µ—Ç–∫—É –¥–Ω–µ–π —Ç–µ–∫—É—â–µ–≥–æ –º–µ—Å—è—Ü–∞
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ü–≤–µ—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (–ø–æ —Ç–∏–ø—É –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫—Ä—É–≥–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –ü—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –¥–µ–Ω—å –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –≤ —Ä–µ–∂–∏–º —Å–ø–∏—Å–∫–∞

**–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Ç–∏–ø–æ–≤ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è:**
```typescript
IMPACT_COLORS = {
  restoring: 'bg-green-500',   // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—â–∏–µ
  depleting: 'bg-red-500',     // –ò—Å—Ç–æ—â–∞—é—â–∏–µ
  neutral: 'bg-orange-500',    // –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ
  mixed: 'bg-blue-500'         // –°–º–µ—à–∞–Ω–Ω—ã–µ
}
```

---

#### 4. TimeSlotSection.tsx (–°–µ–∫—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Å–ª–æ—Ç–∞)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/components/calendar/TimeSlotSection.tsx`

**Props:**
```typescript
interface TimeSlotSectionProps {
  title: string;              // –ù–∞–∑–≤–∞–Ω–∏–µ —Å–ª–æ—Ç–∞
  timeRange?: string;         // –î–∏–∞–ø–∞–∑–æ–Ω –≤—Ä–µ–º–µ–Ω–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  emoji: string;              // –≠–º–æ–¥–∑–∏ —Å–ª–æ—Ç–∞
  slot: TimeSlot;             // –ö–ª—é—á —Å–ª–æ—Ç–∞
  activities: any[];          // –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —ç—Ç–æ–º —Å–ª–æ—Ç–µ
  onUpdate: () => void;       // Callback –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  date?: string;              // –î–∞—Ç–∞ (YYYY-MM-DD)
  onEmptyClick?: (slot) => void; // –ö–ª–∏–∫ –ø–æ –ø—É—Å—Ç–æ–º—É —Å–ª–æ—Ç—É
}
```

**Drag & Drop –ª–æ–≥–∏–∫–∞:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è —à–∞–±–ª–æ–Ω–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –º–µ–∂–¥—É —Å–ª–æ—Ç–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç –Ω–æ–≤–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ drop
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –∑–æ–Ω—ã drop

---

#### 5. ActivityItem.tsx (–ö–∞—Ä—Ç–æ—á–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/components/calendar/ActivityItem.tsx`

**–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
- –≠–º–æ–¥–∑–∏ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ (–µ—Å–ª–∏ —É–∫–∞–∑–∞–Ω–æ)
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ –º–∏–Ω—É—Ç–∞—Ö
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–∏–ø–∞ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è (—Ü–≤–µ—Ç–Ω–∞—è —Ç–æ—á–∫–∞)
- –ó–≤—ë–∑–¥–æ—á–∫–∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ (1-5)
- –°—á—ë—Ç—á–∏–∫ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π (X/Y) –¥–ª—è —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- Checkbox –¥–ª—è –æ—Ç–º–µ—Ç–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Å confetti-—ç—Ñ—Ñ–µ–∫—Ç–æ–º)
- –†–∞—Å–∫—Ä—ã–≤–∞—é—â–µ–µ—Å—è –æ–ø–∏—Å–∞–Ω–∏–µ
- –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—É—Å–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è/—Ç–µ—Å—Ç–∞ (–µ—Å–ª–∏ —Å–≤—è–∑–∞–Ω—ã)
- Drag & Drop –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
- –û—Ç–∫—Ä—ã—Ç–∏–µ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –ø–æ –∫–ª–∏–∫—É

---

#### 6. ActivityFormModal.tsx (–§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/components/calendar/ActivityFormModal.tsx`

**–ü–æ–ª—è —Ñ–æ—Ä–º—ã:**
- **–ó–∞–≥–æ–ª–æ–≤–æ–∫** ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–û–ø–∏—Å–∞–Ω–∏–µ** ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- **–î–∞—Ç–∞** ‚Äî –≤—ã–±–æ—Ä —á–µ—Ä–µ–∑ –∫–∞–ª–µ–Ω–¥–∞—Ä—å
- **–í—Ä–µ–º–µ–Ω–Ω–æ–π —Å–ª–æ—Ç** ‚Äî –≤—ã–±–æ—Ä –∏–∑ –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã—Ö –∏–ª–∏ —Ç–æ—á–Ω–æ–µ –≤—Ä–µ–º—è
- **–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** ‚Äî –≤ –º–∏–Ω—É—Ç–∞—Ö (5-1440)
- **–¢–∏–ø –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è** ‚Äî restoring/depleting/mixed/neutral
- **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ç–∏–ø–∞ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç** ‚Äî 1-5 –∑–≤—ë–∑–¥
- **–≠–º–æ–¥–∑–∏** ‚Äî —ç–º–æ–¥–∑–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ** ‚Äî –≤–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –∏ –≤—Ä–µ–º—è –¥–æ —Å–æ–±—ã—Ç–∏—è
- **–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ** ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏

**–¢–∏–ø—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:**
```typescript
recurrence_type: 'none' | 'daily' | 'weekly' | 'monthly' | 'custom'
```

**–ö–∞—Å—Ç–æ–º–Ω–æ–µ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ:**
- –ò–Ω—Ç–µ—Ä–≤–∞–ª (–∫–∞–∂–¥—ã–µ N –¥–Ω–µ–π/–Ω–µ–¥–µ–ª—å/–º–µ—Å—è—Ü–µ–≤/–ª–µ—Ç)
- –£—Å–ª–æ–≤–∏–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è: –Ω–∏–∫–æ–≥–¥–∞ / –¥–æ –¥–∞—Ç—ã / –ø–æ—Å–ª–µ N –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π

---

#### 7. TemplatesSidebar.tsx (–ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —à–∞–±–ª–æ–Ω–æ–≤)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/components/calendar/TemplatesSidebar.tsx`

**–°–µ–∫—Ü–∏–∏:**
1. **–ú–æ–∏ –ø—Ä–µ—Å–µ—Ç—ã** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –Ω–∞–±–æ—Ä—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
   - –ö–Ω–æ–ø–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–µ—Å–µ—Ç–∞
   - –°–ø–∏—Å–æ–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤ —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º (–∞–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è/—É–¥–∞–ª–µ–Ω–∏–µ)
   
2. **–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–µ—Å–µ—Ç—ã** ‚Äî –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –Ω–∞–±–æ—Ä—ã
   - Basic Needs (–±–∞–∑–æ–≤—ã–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏)
   - Routines (—Ä—É—Ç–∏–Ω—ã)
   - Development (—Ä–∞–∑–≤–∏—Ç–∏–µ)
   - Rest (–æ—Ç–¥—ã—Ö)
   - Other (–ø—Ä–æ—á–µ–µ)

3. **–§–∏–ª—å—Ç—Ä –ø–æ —Ç–∏–ø—É –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è** ‚Äî all/restoring/depleting/neutral/mixed

4. **–°–ø–∏—Å–æ–∫ —à–∞–±–ª–æ–Ω–æ–≤** ‚Äî –∫–∞—Ä—Ç–æ—á–∫–∏ activity_templates
   - Drag & Drop –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
   - –ö–ª–∏–∫ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ—Ç–∞–ª–µ–π

---

#### 8. PresetEditModal.tsx (–†–µ–¥–∞–∫—Ç–æ—Ä –ø—Ä–µ—Å–µ—Ç–æ–≤)
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `src/components/calendar/PresetEditModal.tsx`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ—Å–µ—Ç–æ–≤
- Drag & Drop —à–∞–±–ª–æ–Ω–æ–≤ –≤ —á–∞—Å—Ç–∏ –¥–Ω—è
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –∫–∞–∂–¥–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ –≤—Å–µ–≥–æ –ø—Ä–µ—Å–µ—Ç–∞
- –£–¥–∞–ª–µ–Ω–∏–µ –∏ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ—Å–µ—Ç–æ–≤

**–ß–∞—Å—Ç–∏ –¥–Ω—è –¥–ª—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∏:**
```typescript
DAY_PARTS = ['early_morning', 'late_morning', 'midday', 'afternoon', 'evening', 'night']
```

---

## –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö

### Activity (–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)
**–¢–∞–±–ª–∏—Ü–∞:** `activities`

```typescript
interface Activity {
  id: string;
  user_id: string;
  title: string;
  description: string | null;
  date: string;                    // YYYY-MM-DD
  start_time: string | null;       // HH:MM
  end_time: string | null;
  duration_minutes: number | null;
  category: ActivityCategory;       // Enum –∫–∞—Ç–µ–≥–æ—Ä–∏–π
  impact_type: ActivityImpact;      // 'restoring' | 'depleting' | 'mixed' | 'neutral'
  status: ActivityStatus;           // 'planned' | 'in_progress' | 'completed' | 'cancelled'
  priority: number | null;          // 1-5
  emoji: string | null;
  is_recurring: boolean | null;
  recurrence_pattern: Json | null;
  repetition_config: Json | null;   // –î–µ—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
  reminder_enabled: boolean | null;
  reminder_minutes_before: number | null;
  exercise_id: string | null;       // –°–≤—è–∑—å —Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ–º
  test_id: string | null;           // –°–≤—è–∑—å —Å —Ç–µ—Å—Ç–æ–º
  template_id: string | null;       // –°–≤—è–∑—å —Å —à–∞–±–ª–æ–Ω–æ–º
  user_preset_id: string | null;    // –°–≤—è–∑—å —Å –ø—Ä–µ—Å–µ—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  created_at: string;
  updated_at: string;
}
```

### Activity Template (–®–∞–±–ª–æ–Ω –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
**–¢–∞–±–ª–∏—Ü–∞:** `activity_templates`

```typescript
interface ActivityTemplate {
  id: string;
  name: string;
  name_en: string;
  name_ru: string | null;
  name_fr: string;
  description: string | null;
  description_ru: string | null;
  category: ActivityCategory;
  impact_type: ActivityImpact;
  default_duration_minutes: number | null;
  emoji: string;
  is_system: boolean | null;
  created_at: string;
}
```

### User Preset (–ü—Ä–µ—Å–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
**–¢–∞–±–ª–∏—Ü–∞:** `user_presets`

```typescript
interface UserPreset {
  id: string;
  user_id: string;
  name: string;
  emoji: string;
  activities: PresetActivity[];     // JSON –º–∞—Å—Å–∏–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
  tags: string[] | null;
  is_active: boolean | null;
  is_archived: boolean | null;
  last_activated_at: string | null;
  activation_start_date: string | null;
  activation_end_date: string | null;
  recurrence_type: string | null;
  recurrence_count: number | null;
  custom_interval: number | null;
  custom_unit: string | null;
  custom_end_type: string | null;
  custom_end_date: string | null;
  custom_end_count: number | null;
  created_at: string;
  updated_at: string;
}

interface PresetActivity {
  template_id: string;
  category: string;
  day_part: string;                 // –ß–∞—Å—Ç—å –¥–Ω—è –¥–ª—è —Ä–∞–∑–º–µ—â–µ–Ω–∏—è
  duration: number;
  repetitions: number;              // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–∑ –≤ –¥–µ–Ω—å
}
```

### –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (ActivityCategory)
```typescript
type ActivityCategory = 
  | 'sleep' | 'nutrition' | 'hydration' | 'exercise' | 'leisure'
  | 'hobby' | 'work' | 'social' | 'practice' | 'health'
  | 'reflection' | 'rest' | 'psychological_exercises'
  | 'light_exercise' | 'close_socializing' | 'walks' | 'games'
  | 'creative' | 'entertainment' | 'self_care' | 'meditation'
  | 'nature' | 'study' | 'commute' | 'intense_exercise'
  | 'household_chores' | 'tasks' | 'finances' | 'health_appointments'
  // ... –∏ –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
```

---

## –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞

### –°–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "+" –∏–ª–∏ –∫–ª–∏–∫–∞–µ—Ç –Ω–∞ –ø—É—Å—Ç–æ–π —Å–ª–æ—Ç
2. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è `ActivityFormModal`
3. –ó–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –ø–æ–ª—è —Ñ–æ—Ä–º—ã
4. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ —Ç–∏–ø–∞ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è —Ñ–∏–ª—å—Ç—Ä—É—é—Ç—Å—è –¥–æ—Å—Ç—É–ø–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
5. –ü—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
6. –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω —Ä–µ–∂–∏–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –≤—Å–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
7. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î
8. –¢—Ä–∏–≥–≥–µ—Ä–∏—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI —á–µ—Ä–µ–∑ `triggerActivityUpdate()`

### –ü–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–¢–∏–ø—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:**
- **daily** ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω–æ, N –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
- **weekly** ‚Äî –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ, N –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
- **monthly** ‚Äî –µ–∂–µ–º–µ—Å—è—á–Ω–æ, N –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π
- **custom** ‚Äî –∫–∞—Å—Ç–æ–º–Ω—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª —Å —É—Å–ª–æ–≤–∏–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è

**–•—Ä–∞–Ω–µ–Ω–∏–µ –≥—Ä—É–ø–ø—ã –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π:**
```typescript
repetition_config: {
  recurrence_type: 'weekly',
  recurrence_count: 4,
  recurrence_group_id: 'uuid',    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –≥—Ä—É–ø–ø—ã
  custom_interval: 1,
  custom_unit: 'week',
  custom_end_type: 'count',
  custom_end_date: null,
  custom_end_count: 4
}
```

### –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

–ü—Ä–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –¥–∏–∞–ª–æ–≥:
- **–¢–æ–ª—å–∫–æ —ç—Ç—É** ‚Äî –∏–∑–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—ã–±—Ä–∞–Ω–Ω–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- **–í—Å–µ –≤ —Å–µ—Ä–∏–∏** ‚Äî –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (–∫—Ä–æ–º–µ –¥–∞—Ç—ã/–≤—Ä–µ–º–µ–Ω–∏)

### Drag & Drop

**–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ –≤ —Å–ª–æ—Ç:**
1. –ù–∞—á–∞–ª–æ drag —Å `templateId` –∏ `templateData`
2. Drop –≤ `TimeSlotSection`
3. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞—Å—á—ë—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏
4. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–π –≤ –æ–¥–∏–Ω –¥–µ–Ω—å

**–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
1. –ù–∞—á–∞–ª–æ drag —Å `activityId`
2. Drop –≤ –¥—Ä—É–≥–æ–π —Å–ª–æ—Ç –∏–ª–∏ –ø–æ—Å–ª–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `start_time` –≤ –ë–î

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–µ—Å–µ—Ç–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "Play" –Ω–∞ –ø—Ä–µ—Å–µ—Ç–µ
2. –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –¥–∞—Ç—ã –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏
3. –î–ª—è –∫–∞–∂–¥–æ–π –¥–∞—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –≤—Å–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∏–∑ –ø—Ä–µ—Å–µ—Ç–∞
4. –û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –ø—Ä–µ—Å–µ—Ç–∞ (`is_active`, `activation_start_date`, `activation_end_date`)
5. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å–≤—è–∑—ã–≤–∞—é—Ç—Å—è —Å –ø—Ä–µ—Å–µ—Ç–æ–º —á–µ—Ä–µ–∑ `user_preset_id`

### –î–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–µ—Å–µ—Ç–∞

1. –£–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ —Å —ç—Ç–∏–º `user_preset_id`
2. –°–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Å—Ç–∞—Ç—É—Å –ø—Ä–µ—Å–µ—Ç–∞

---

## UI/UX –æ–ø–∏—Å–∞–Ω–∏–µ

### –ì–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω (/calendar)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚Üê Jan 1 - 7 ‚Üí                                        [Today]  ‚îÇ
‚îÇ  2026                                                          ‚îÇ
‚îÇ                                                                 ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                              ‚îÇ
‚îÇ  ‚îÇ List ‚îÇ Calendar ‚îÇ        [+ Add Activity]                   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                     ‚îÇ          ‚îÇ
‚îÇ  ‚îå‚îÄMon‚îÄ‚îê‚îå‚îÄTue‚îÄ‚îê‚îå‚îÄWed‚îÄ‚îê‚îå‚îÄThu‚îÄ‚îê‚îå‚îÄFri‚îÄ‚îê‚îå‚îÄSat‚îÄ‚îê‚îå‚îÄSun‚îÄ‚îê ‚îÇ Templates ‚îÇ
‚îÇ  ‚îÇ  1  ‚îÇ‚îÇ  2  ‚îÇ‚îÇ  3  ‚îÇ‚îÇ  4  ‚îÇ‚îÇ  5  ‚îÇ‚îÇ  6  ‚îÇ‚îÇ  7  ‚îÇ ‚îÇ          ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ My Presets‚îÇ
‚îÇ                                                     ‚îÇ ‚îú‚îÄ üçé Diet ‚îÇ
‚îÇ  üåÖ Early Morning (05:00-09:00)          0/0       ‚îÇ ‚îú‚îÄ üèÉ Sport‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ          ‚îÇ
‚îÇ  ‚îÇ Click to add or drag template               ‚îÇ   ‚îÇ System   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ ‚îú‚îÄ üîã Basic‚îÇ
‚îÇ                                                     ‚îÇ ‚îú‚îÄ üîÑ Rout.‚îÇ
‚îÇ  ‚òï Late Morning (09:00-12:00)            2/3       ‚îÇ          ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ Filter   ‚îÇ
‚îÇ  ‚îÇ ‚òë üßò Morning Yoga              ‚≠ê‚≠ê‚≠ê 08:00  30m ‚îÇ ‚îÇ ‚óã All    ‚îÇ
‚îÇ  ‚îÇ ‚òê üìö Study Session             ‚≠ê‚≠ê‚≠ê 10:00  60m ‚îÇ ‚îÇ ‚óã Restor.‚îÇ
‚îÇ  ‚îÇ ‚òë ‚òï Coffee Break              ‚≠ê‚≠ê   11:00  15m ‚îÇ ‚îÇ ‚óã Depl.  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ          ‚îÇ
‚îÇ                                                     ‚îÇ Templates‚îÇ
‚îÇ  ‚òÄÔ∏è Midday (12:00-15:00)                  1/1       ‚îÇ ‚îú‚îÄ üßò Yoga ‚îÇ
‚îÇ  ...                                                ‚îÇ ‚îú‚îÄ üìö Study‚îÇ
‚îÇ                                                     ‚îÇ ‚îú‚îÄ üèÉ Run  ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ    ‚îÇ          ‚îÇ
‚îÇ  2/6 completed (33%)           üéâ Great progress!  ‚îÇ          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–∞—Ä—Ç–æ—á–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ‚îÇ ‚òê  üßò Morning Yoga Session      ‚≠ê‚≠ê‚≠ê           [‚ñº]      ‚îÇ
‚îÇ ‚îÇ                                                            ‚îÇ
‚îÇ ‚îÇ      ‚óè 08:00    ‚îÇ 30m ‚îÇ  ‚óè (green)  ‚îÇ üîÑ 3/7              ‚îÇ
‚îÇ ‚îÇ                                                            ‚îÇ
‚îÇ ‚îÇ      (Description expands on click)                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–õ–µ–≥–µ–Ω–¥–∞:
‚îÇ  - –¶–≤–µ—Ç–Ω–∞—è –ø–æ–ª–æ—Å–∞ —Å—Ç–∞—Ç—É—Å–∞ (green = completed, primary = planned)
‚òê  - Checkbox –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
üßò - –≠–º–æ–¥–∑–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
‚≠ê‚≠ê‚≠ê - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç (3 –∏–∑ 5)
‚óè 08:00 - –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞ —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º
30m - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
‚óè (green) - –¶–≤–µ—Ç–Ω–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Ç–∏–ø–∞ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è
üîÑ 3/7 - –°—á—ë—Ç—á–∏–∫ —Ä–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω–æ—Å—Ç–∏ (3 –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∏–∑ 7 –≤—Å–µ–≥–æ)
[‚ñº] - –ö–Ω–æ–ø–∫–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –æ–ø–∏—Å–∞–Ω–∏—è
```

### –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ‚úï                    New Activity                          ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                             ‚îÇ
‚îÇ  Impact Type:  [Restoring] [Depleting] [Mixed] [Neutral]   ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Category:     [Sleep ‚ñº]                                    ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Title:        [Morning Yoga Session                    ]   ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Description:  [Optional description...                 ]   ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Date:         [üìÖ Jan 3, 2026                          ]   ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Time Slot:    [Late Morning (09:00-12:00) ‚ñº]              ‚îÇ
‚îÇ  -or- Exact:   [09:00]                                      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Duration:     [30] minutes        (- 5 +)                  ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Priority:     ‚≠ê‚≠ê‚≠ê‚òÜ‚òÜ                                      ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  Emoji:        [üßò]                                         ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ Reminder ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ [‚úì] Enable reminder    [15] minutes before          ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ Recurrence ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îÇ
‚îÇ  ‚îÇ [None ‚ñº] [Daily] [Weekly] [Monthly] [Custom]       ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ                                                     ‚îÇ    ‚îÇ
‚îÇ  ‚îÇ Repeat [7] times                                    ‚îÇ    ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îÇ
‚îÇ                                                             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                              [Cancel]  [Save Activity]      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ú–µ—Å—è—á–Ω–æ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (CalendarView)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                      January 2026                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  Mon   ‚îÇ  Tue   ‚îÇ  Wed   ‚îÇ  Thu   ‚îÇ  Fri   ‚îÇ  Sat   ‚îÇ  Sun  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ   29   ‚îÇ   30   ‚îÇ   31   ‚îÇ    1   ‚îÇ    2   ‚îÇ   [3]  ‚îÇ    4  ‚îÇ
‚îÇ        ‚îÇ        ‚îÇ        ‚îÇ ‚óè‚óè     ‚îÇ ‚óè‚óè‚óè    ‚îÇ ‚óè‚óè‚óè‚óè   ‚îÇ       ‚îÇ
‚îÇ        ‚îÇ        ‚îÇ        ‚îÇ (75%)  ‚îÇ (50%)  ‚îÇ (25%)  ‚îÇ       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ    5   ‚îÇ    6   ‚îÇ    7   ‚îÇ    8   ‚îÇ    9   ‚îÇ   10   ‚îÇ   11  ‚îÇ
‚îÇ ‚óè      ‚îÇ        ‚îÇ ‚óè‚óè     ‚îÇ        ‚îÇ ‚óè‚óè‚óè    ‚îÇ        ‚îÇ       ‚îÇ
‚îÇ (100%) ‚îÇ        ‚îÇ (66%)  ‚îÇ        ‚îÇ (33%)  ‚îÇ        ‚îÇ       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

–õ–µ–≥–µ–Ω–¥–∞:
‚óè - –¶–≤–µ—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π (–∑–µ–ª—ë–Ω—ã–µ/–∫—Ä–∞—Å–Ω—ã–µ/—Å–∏–Ω–∏–µ/–æ—Ä–∞–Ω–∂–µ–≤—ã–µ)
(75%) - –ö—Ä—É–≥–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
[3] - –í—ã–±—Ä–∞–Ω–Ω—ã–π –¥–µ–Ω—å (–ø–æ–¥—Å–≤–µ—á–µ–Ω)
```

---

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –±—ç–∫–µ–Ω–¥–æ–º

### –ó–∞–ø—Ä–æ—Å—ã –∫ Supabase

**–ü–æ–ª—É—á–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –Ω–∞ –¥–∞—Ç—É:**
```typescript
supabase
  .from('activities')
  .select('*, exercises(slug), tests(slug)')
  .eq('user_id', user.id)
  .eq('date', 'YYYY-MM-DD')
  .order('start_time', { ascending: true })
```

**–ü–æ–ª—É—á–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–æ–≤:**
```typescript
supabase
  .from('activity_templates')
  .select('*')
  .order('category', { ascending: true })
  .order('name_en', { ascending: true })
```

**–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:**
```typescript
supabase
  .from('activities')
  .insert(activityData)
```

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞:**
```typescript
supabase
  .from('activities')
  .update({ status: 'completed' })
  .eq('id', activityId)
```

### Realtime –ø–æ–¥–ø–∏—Å–∫–∏

```typescript
const channel = supabase
  .channel('activities-realtime-listview')
  .on(
    'postgres_changes',
    {
      event: '*',
      schema: 'public',
      table: 'activities',
      filter: `user_id=eq.${user.id}`
    },
    (payload) => {
      fetchActivities();
    }
  )
  .subscribe();
```

### –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```typescript
// activitySync.ts
export const triggerActivityUpdate = () => {
  window.dispatchEvent(new Event('activity-updated'));
};

// –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:
window.addEventListener('activity-updated', fetchActivities);
```

---

## –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

### –ö–ª—é—á–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

**–§–∞–π–ª—ã:** `src/locales/{en,ru,fr}/translation.json`

```json
{
  "calendar": {
    "today": "Today",
    "list": "List",
    "calendar": "Calendar",
    "addActivity": "Add Activity",
    "completed": "completed",
    "greatProgress": "Great progress!",
    
    "sections": {
      "early_morning": "Early Morning",
      "late_morning": "Late Morning",
      "midday": "Midday",
      "afternoon": "Afternoon",
      "evening": "Evening",
      "night": "Night",
      "anytime": "Anytime"
    },
    
    "timeRanges": {
      "early_morning": "05:00-09:00",
      "late_morning": "09:00-12:00",
      // ...
    },
    
    "weekdays": {
      "short": {
        "mon": "Mon",
        "tue": "Tue",
        // ...
      }
    },
    
    "form": {
      "title": "Title",
      "description": "Description",
      "date": "Date",
      "time": "Time",
      "duration": "Duration",
      "category": "Category",
      "priority": "Priority",
      "saveError": "Failed to save activity",
      "updateSuccess": "Activity updated",
      // ...
    },
    
    "presets": {
      "addAll": "Add all",
      "addCore": "Add core",
      "activitiesAdded": "Added {{count}} activities",
      // ...
    }
  }
}
```

### –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π

–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –∏–∑ `categoryConfig.ts`:

```typescript
{
  value: 'meditation',
  emoji: 'üßò',
  recommendedType: 'restoring',
  defaultDuration: 20,
  label: {
    en: 'Meditation',
    ru: '–ú–µ–¥–∏—Ç–∞—Ü–∏—è',
    fr: 'M√©ditation'
  }
}
```

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–†–∞–∑–¥–µ–ª Calendar –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–ª–æ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π:
- –î–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (—Å–ø–∏—Å–æ–∫/–∫–∞–ª–µ–Ω–¥–∞—Ä—å)
- Drag & Drop –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–∫—É—Ä—Ä–µ–Ω—Ç–Ω—ã—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π —Å –≥–∏–±–∫–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π
- –ü—Ä–µ—Å–µ—Ç–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–∞–±–æ—Ä–æ–≤ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π
- Realtime —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏
- –ü–æ–ª–Ω–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–∞ 3 —è–∑—ã–∫–∞

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏, –≥–¥–µ –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–≤–æ—é —É–∑–∫—É—é –æ–±–ª–∞—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.
