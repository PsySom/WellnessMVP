# Ğ Ğ°Ğ·Ğ´ĞµĞ» Journal (/journal, /journal/history)

## ĞĞ±Ñ‰ĞµĞµ Ğ¾Ğ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ

Journal â€” Ğ¸Ğ½Ñ‚ĞµÑ€Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ´Ğ½ĞµĞ²Ğ½Ğ¸Ğº ÑĞ°Ğ¼Ğ¾Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ° Ñ Ñ‡Ğ°Ñ‚-Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹ÑĞ¾Ğ¼. ĞŸĞ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ÑŒ Ğ¼Ğ¾Ğ¶ĞµÑ‚:
- Ğ’ĞµÑÑ‚Ğ¸ ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ñ‹Ğ¹ Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³ Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸ĞµĞ¼
- ĞŸÑ€Ğ¾Ñ…Ğ¾Ğ´Ğ¸Ñ‚ÑŒ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ ÑƒÑ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğµ/Ğ²ĞµÑ‡ĞµÑ€Ğ½Ğ¸Ğµ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ğ¸
- ĞŸÑ€Ğ¾ÑĞ¼Ğ°Ñ‚Ñ€Ğ¸Ğ²Ğ°Ñ‚ÑŒ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞµÑÑĞ¸Ğ¹
- Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸
- Ğ’Ğ¸Ğ´ĞµÑ‚ÑŒ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¸ Ğ¸Ğ½ÑĞ°Ğ¹Ñ‚Ñ‹

---

## Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²

```
src/
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ Journal.tsx                      # Ğ§Ğ°Ñ‚-Ğ¸Ğ½Ñ‚ĞµÑ€Ñ„ĞµĞ¹Ñ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ°
â”‚   â””â”€â”€ JournalHistory.tsx               # Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ ÑĞµÑÑĞ¸Ğ¹
â”œâ”€â”€ components/journal/
â”‚   â”œâ”€â”€ JournalStats.tsx                 # Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ°
â”‚   â””â”€â”€ JournalInsights.tsx              # Ğ˜Ğ½ÑĞ°Ğ¹Ñ‚Ñ‹ Ğ¸Ğ· Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
```

---

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°: Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° Journal

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“” Ğ–ÑƒÑ€Ğ½Ğ°Ğ»                                    [â„¹ï¸] [ğŸ• Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚         ĞŸÑ€Ğ¸Ğ²ĞµÑ‚! ĞšĞ°Ğº Ğ²Ñ‹ ÑĞµĞ±Ñ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑ‚Ğµ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ?                 â”‚
â”‚         Ğ Ğ°ÑÑĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ, Ñ‡Ñ‚Ğ¾ Ñƒ Ğ²Ğ°Ñ Ğ½Ğ° ÑƒĞ¼Ğµ.                           â”‚
â”‚                                                     14:30        â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ˜” Ğ§Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ±ĞµÑĞ¿Ğ¾ĞºĞ¾Ğ¸Ñ‚ â”‚ ğŸ˜Š Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸ â”‚ ğŸ¤” Ğ”ÑƒĞ¼Ğ°Ñ Ğ¾... â”‚   â”‚
â”‚  â”‚ âœï¸ Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ â”‚                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚                        Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ±Ñ‹Ğ» Ğ½ĞµĞ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ´ĞµĞ½ÑŒ,              â”‚
â”‚                        Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒÑ ÑĞµĞ±Ñ ÑƒÑÑ‚Ğ°Ğ²ÑˆĞ¸Ğ¼.                  â”‚
â”‚                                                     14:32  â†â”€â”€â”€â”€ â”‚
â”‚                                                                  â”‚
â”‚         Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾, Ñ‡Ñ‚Ğ¾ Ğ¿Ğ¾Ğ´ĞµĞ»Ğ¸Ğ»Ğ¸ÑÑŒ. Ğ Ğ°ÑÑĞºĞ°Ğ¶Ğ¸Ñ‚Ğµ                     â”‚
â”‚         Ğ¿Ğ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ, Ñ‡Ñ‚Ğ¾ Ğ¸Ğ¼ĞµĞ½Ğ½Ğ¾ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ ÑƒÑÑ‚Ğ°Ğ»Ğ¾ÑÑ‚ÑŒ?               â”‚
â”‚                                                     14:32        â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     [ğŸŒ… Ğ£Ñ‚Ñ€ĞµĞ½Ğ½ÑÑ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ñ]    [ğŸŒ™ Ğ’ĞµÑ‡ĞµÑ€Ğ½ÑÑ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ñ]          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ñ‡Ñ‚Ğ¾-Ğ½Ğ¸Ğ±ÑƒĞ´ÑŒ...                             [ğŸ¤] â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚  0/2000 ÑĞ¸Ğ¼Ğ²Ğ¾Ğ»Ğ¾Ğ²                                      [â¤ Send]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ĞœĞ¾Ğ´ĞµĞ»Ğ¸ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ¡ĞµÑÑĞ¸Ñ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ°

```typescript
interface Session {
  id: string;
  user_id: string;
  session_type: 'morning' | 'evening' | 'free';
  started_at: string;
  ended_at: string | null;
  created_at: string;
}
```

### Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ°

```typescript
interface Message {
  id: string;
  session_id: string;
  user_id: string;
  message_type: 'user' | 'app';
  content: string;
  metadata: Json | null;
  created_at: string;
}
```

### Ğ¢Ğ°Ğ±Ğ»Ğ¸Ñ†Ñ‹ Ğ‘Ğ”

```sql
-- Ğ¡ĞµÑÑĞ¸Ğ¸ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ°
CREATE TABLE journal_sessions (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES auth.users,
  session_type TEXT,            -- 'morning' | 'evening' | 'free'
  started_at TIMESTAMPTZ,
  ended_at TIMESTAMPTZ,
  created_at TIMESTAMPTZ
);

-- Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ°
CREATE TABLE journal_messages (
  id UUID PRIMARY KEY,
  session_id UUID REFERENCES journal_sessions,
  user_id UUID REFERENCES auth.users,
  message_type TEXT,            -- 'user' | 'app'
  content TEXT,
  metadata JSONB,
  created_at TIMESTAMPTZ
);
```

---

## Ğ¢Ğ¸Ğ¿Ñ‹ ÑĞµÑÑĞ¸Ğ¹

| Ğ¢Ğ¸Ğ¿ | Emoji | ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ |
|-----|-------|----------|
| `morning` | ğŸŒ… | Ğ£Ñ‚Ñ€ĞµĞ½Ğ½ÑÑ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ñ â€” ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¾ Ğ¿Ğ»Ğ°Ğ½Ğ°Ñ… Ğ½Ğ° Ğ´ĞµĞ½ÑŒ |
| `evening` | ğŸŒ™ | Ğ’ĞµÑ‡ĞµÑ€Ğ½ÑÑ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ñ â€” Ğ²Ğ¾Ğ¿Ñ€Ğ¾ÑÑ‹ Ğ¾Ğ± Ğ¸Ñ‚Ğ¾Ğ³Ğ°Ñ… Ğ´Ğ½Ñ |
| `free` | âœï¸ | Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾ â€” Ğ´Ğ¸Ğ°Ğ»Ğ¾Ğ³ Ğ±ĞµĞ· ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñ‹ |

---

## Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¸Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ğ¸ ÑĞµÑÑĞ¸Ğ¸

```typescript
const initializeSession = async () => {
  const { data: { user } } = await supabase.auth.getUser();
  if (!user) return;

  // 1. Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²ÑƒÑ free-ÑĞµÑÑĞ¸Ñ
  const { data: session } = await supabase
    .from('journal_sessions')
    .insert({
      user_id: user.id,
      session_type: 'free'
    })
    .select()
    .single();

  setSessionId(session.id);
  
  // 2. ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¸Ğ²ĞµÑ‚ÑÑ‚Ğ²ĞµĞ½Ğ½Ğ¾Ğµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ
  const greeting = {
    session_id: session.id,
    user_id: user.id,
    message_type: 'app',
    content: t('journal.greetings.initial')
  };

  const { data: message } = await supabase
    .from('journal_messages')
    .insert(greeting)
    .select()
    .single();

  setMessages([message]);
};
```

---

## Quick Replies (Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğµ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹)

```typescript
const QUICK_REPLIES = [
  { emoji: 'ğŸ˜”', text: t('journal.quickReplies.bothering') },    // "Ğ§Ñ‚Ğ¾-Ñ‚Ğ¾ Ğ±ĞµÑĞ¿Ğ¾ĞºĞ¾Ğ¸Ñ‚"
  { emoji: 'ğŸ˜Š', text: t('journal.quickReplies.goodNews') },     // "Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞ¸Ğµ Ğ½Ğ¾Ğ²Ğ¾ÑÑ‚Ğ¸"
  { emoji: 'ğŸ¤”', text: t('journal.quickReplies.thinking') },     // "Ğ”ÑƒĞ¼Ğ°Ñ Ğ¾..."
  { emoji: 'âœï¸', text: t('journal.quickReplies.freeWriting') }   // "Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾"
];
```

ĞÑ‚Ğ¾Ğ±Ñ€Ğ°Ğ¶Ğ°ÑÑ‚ÑÑ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ğ¾ÑĞ»Ğµ Ğ¿ĞµÑ€Ğ²Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ Ğ¿Ñ€Ğ¸Ğ»Ğ¾Ğ¶ĞµĞ½Ğ¸Ñ Ğ¸ Ğ´Ğ¾ Ğ½Ğ°Ñ‡Ğ°Ğ»Ğ° ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ.

---

## Ğ¡Ñ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¸ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ğ¸

### Ğ£Ñ‚Ñ€ĞµĞ½Ğ½Ğ¸Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹

```typescript
const morningQuestions = [
  t('journal.morningScenario.greeting'),    // "Ğ”Ğ¾Ğ±Ñ€Ğ¾Ğµ ÑƒÑ‚Ñ€Ğ¾! ĞšĞ°Ğº Ğ²Ñ‹ ÑĞµĞ±Ñ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑ‚Ğµ?"
  t('journal.morningScenario.plans'),        // "ĞšĞ°ĞºĞ¸Ğµ Ñƒ Ğ²Ğ°Ñ Ğ¿Ğ»Ğ°Ğ½Ñ‹ Ğ½Ğ° ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ?"
  t('journal.morningScenario.intention'),    // "ĞšĞ°ĞºĞ¾Ğµ Ğ½Ğ°Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ğµ Ğ²Ñ‹ Ñ…Ğ¾Ñ‚Ğ¸Ñ‚Ğµ ÑƒÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ?"
  t('journal.morningScenario.feeling'),      // "ĞšĞ°Ğº Ğ²Ñ‹ Ğ¾Ñ†ĞµĞ½Ğ¸Ğ²Ğ°ĞµÑ‚Ğµ ÑĞ²Ğ¾Ñ Ğ³Ğ¾Ñ‚Ğ¾Ğ²Ğ½Ğ¾ÑÑ‚ÑŒ Ğº Ğ´Ğ½Ñ?"
  t('journal.morningScenario.closing')       // "ĞÑ‚Ğ»Ğ¸Ñ‡Ğ½Ğ¾! Ğ£Ğ´Ğ°Ñ‡Ğ½Ğ¾Ğ³Ğ¾ Ğ²Ğ°Ğ¼ Ğ´Ğ½Ñ!"
];
```

### Ğ’ĞµÑ‡ĞµÑ€Ğ½Ğ¸Ğ¹ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹

```typescript
const eveningQuestions = [
  t('journal.eveningScenario.greeting'),     // "Ğ”Ğ¾Ğ±Ñ€Ñ‹Ğ¹ Ğ²ĞµÑ‡ĞµÑ€! ĞšĞ°Ğº Ğ¿Ñ€Ğ¾ÑˆÑ‘Ğ» Ğ²Ğ°Ñˆ Ğ´ĞµĞ½ÑŒ?"
  t('journal.eveningScenario.wentWell'),     // "Ğ§Ñ‚Ğ¾ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¿Ğ¾Ğ»ÑƒÑ‡Ğ¸Ğ»Ğ¾ÑÑŒ Ñ…Ğ¾Ñ€Ğ¾ÑˆĞ¾?"
  t('journal.eveningScenario.grateful'),     // "Ğ—Ğ° Ñ‡Ñ‚Ğ¾ Ğ²Ñ‹ Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ñ‹ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ?"
  t('journal.eveningScenario.improve'),      // "Ğ§Ñ‚Ğ¾ Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ Ğ±Ñ‹Ğ»Ğ¾ Ğ±Ñ‹ ÑƒĞ»ÑƒÑ‡ÑˆĞ¸Ñ‚ÑŒ?"
  t('journal.eveningScenario.feeling'),      // "ĞšĞ°Ğº Ğ²Ñ‹ ÑĞµĞ±Ñ Ñ‡ÑƒĞ²ÑÑ‚Ğ²ÑƒĞµÑ‚Ğµ ÑĞµĞ¹Ñ‡Ğ°Ñ?"
  t('journal.eveningScenario.closing')       // "Ğ¡Ğ¿Ğ°ÑĞ¸Ğ±Ğ¾ Ğ·Ğ° Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ñ. Ğ¥Ğ¾Ñ€Ğ¾ÑˆĞµĞ³Ğ¾ Ğ¾Ñ‚Ğ´Ñ‹Ñ…Ğ°!"
];
```

---

## Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¾Ñ‚Ğ¿Ñ€Ğ°Ğ²ĞºĞ¸ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ

```typescript
const sendMessage = async (content: string) => {
  if (!content.trim() || !sessionId || isLoading) return;

  setIsLoading(true);

  // 1. Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½Ğ¸Ñ‚ÑŒ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
  const { data: newMessage } = await supabase
    .from('journal_messages')
    .insert({
      session_id: sessionId,
      user_id: user.id,
      message_type: 'user',
      content: content.trim()
    })
    .select()
    .single();

  setMessages(prev => [...prev, newMessage]);
  setInputText('');

  // 2. ĞĞ±Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ Ğ¾Ñ‚Ğ²ĞµÑ‚
  if (currentScenario) {
    await handleScenarioResponse(content);
  } else {
    // Free mode â€” Ğ¿Ñ€Ğ¾ÑÑ‚Ğ¾Ğ¹ Ğ¾Ñ‚Ğ²ĞµÑ‚ Ğ±Ğ»Ğ°Ğ³Ğ¾Ğ´Ğ°Ñ€Ğ½Ğ¾ÑÑ‚Ğ¸
    setTimeout(async () => {
      const appMessage = {
        session_id: sessionId,
        user_id: user.id,
        message_type: 'app',
        content: t('journal.greetings.thanks')
      };

      const { data: response } = await supabase
        .from('journal_messages')
        .insert(appMessage)
        .select()
        .single();

      setMessages(prev => [...prev, response]);
      setIsLoading(false);
    }, 1000);
  }
};
```

---

## Ğ›Ğ¾Ğ³Ğ¸ĞºĞ° Ğ¾Ğ±Ñ€Ğ°Ğ±Ğ¾Ñ‚ĞºĞ¸ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ñ

```typescript
const handleScenarioResponse = async (content: string) => {
  const questions = getScenarioQuestions(currentScenario);
  const nextStep = scenarioStep + 1;

  setTimeout(async () => {
    if (nextStep < questions.length) {
      // ĞÑ‚Ğ¿Ñ€Ğ°Ğ²Ğ¸Ñ‚ÑŒ ÑĞ»ĞµĞ´ÑƒÑÑ‰Ğ¸Ğ¹ Ğ²Ğ¾Ğ¿Ñ€Ğ¾Ñ
      const appMessage = {
        session_id: sessionId,
        user_id: user.id,
        message_type: 'app',
        content: questions[nextStep]
      };

      const { data: response } = await supabase
        .from('journal_messages')
        .insert(appMessage)
        .select()
        .single();

      setMessages(prev => [...prev, response]);
      setScenarioStep(nextStep);

      // Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞ¸Ñ‚ÑŒ ÑÑ†ĞµĞ½Ğ°Ñ€Ğ¸Ğ¹ Ğ¿Ğ¾ÑĞ»Ğµ Ñ„Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾Ğ³Ğ¾ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ñ
      if (nextStep === questions.length - 1) {
        setCurrentScenario(null);
        setScenarioStep(0);
      }
    }
    setIsLoading(false);
  }, 1000);
};
```

---

## ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°: Ğ¡Ñ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ğ° JournalHistory

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â† ĞĞ°Ğ·Ğ°Ğ´]                    Ğ˜ÑÑ‚Ğ¾Ñ€Ğ¸Ñ Ğ¶ÑƒÑ€Ğ½Ğ°Ğ»Ğ°         [Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ğŸ” ĞŸĞ¾Ğ¸ÑĞº...]                               [Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ñ‹ ğŸ”½]       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“Š Ğ¡Ğ¢ĞĞ¢Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   42    â”‚ â”‚    7    â”‚ â”‚   14    â”‚ â”‚   12    â”‚                â”‚
â”‚  â”‚ Ğ’ÑĞµĞ³Ğ¾   â”‚ â”‚ Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ â”‚ â”‚ Ğ›ÑƒÑ‡ÑˆĞ¸Ğ¹  â”‚ â”‚ Ğ’ ÑÑ‚Ğ¾Ğ¼  â”‚                â”‚
â”‚  â”‚ ÑĞµÑÑĞ¸Ğ¹  â”‚ â”‚ streak  â”‚ â”‚ streak  â”‚ â”‚ Ğ¼ĞµÑÑÑ†Ğµ  â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¡ Ğ˜ĞĞ¡ĞĞ™Ğ¢Ğ«                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ â€¢ Ğ’ ÑÑ€ĞµĞ´Ğ½ĞµĞ¼ 3.2 ÑĞµÑÑĞ¸Ğ¸ Ğ² Ğ½ĞµĞ´ĞµĞ»Ñ                             â”‚ â”‚
â”‚  â”‚ â€¢ ĞĞ°Ğ¸Ğ±Ğ¾Ğ»ĞµĞµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ: Ğ’ĞµÑ‡ĞµÑ€ (5PM-9PM)                  â”‚ â”‚
â”‚  â”‚ â€¢ Ğ¡Ñ€ĞµĞ´Ğ½ÑÑ Ğ´Ğ»Ğ¸Ğ½Ğ° ÑĞµÑÑĞ¸Ğ¸: 8 ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹                         â”‚ â”‚
â”‚  â”‚ â€¢ Consistency score: 75%                                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“… Ğ¡Ğ•Ğ¡Ğ¡Ğ˜Ğ˜                                                       â”‚
â”‚                                                                  â”‚
â”‚  Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŒ™ Ğ’ĞµÑ‡ĞµÑ€Ğ½ÑÑ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ñ                     14:30             â”‚ â”‚
â”‚  â”‚ "Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ±Ñ‹Ğ» Ğ¿Ñ€Ğ¾Ğ´ÑƒĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹Ğ¹ Ğ´ĞµĞ½ÑŒ..."        8 ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  Ğ’Ñ‡ĞµÑ€Ğ°                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸŒ… Ğ£Ñ‚Ñ€ĞµĞ½Ğ½ÑÑ Ñ€ĞµÑ„Ğ»ĞµĞºÑĞ¸Ñ                     08:15             â”‚ â”‚
â”‚  â”‚ "ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€ÑƒÑ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ·Ğ°ĞºĞ¾Ğ½Ñ‡Ğ¸Ñ‚ÑŒ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚..."    6 ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â”‚  3 ÑĞ½Ğ²Ğ°Ñ€Ñ 2026                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ âœï¸ Ğ¡Ğ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ¿Ğ¸ÑÑŒĞ¼Ğ¾                       21:00             â”‚ â”‚
â”‚  â”‚ "Ğ Ğ°Ğ·Ğ¼Ñ‹ÑˆĞ»ÑÑ Ğ¾ Ñ†ĞµĞ»ÑÑ… Ğ½Ğ° Ğ½Ğ¾Ğ²Ñ‹Ğ¹ Ğ³Ğ¾Ğ´..."       12 ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¸ Ğ¸Ğ½ÑĞ°Ğ¹Ñ‚Ñ‹

### Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° (stats)

```typescript
interface Stats {
  totalSessions: number;      // Ğ’ÑĞµĞ³Ğ¾ ÑĞµÑÑĞ¸Ğ¹
  currentStreak: number;      // Ğ¢ĞµĞºÑƒÑ‰Ğ¸Ğ¹ streak (Ğ´Ğ½Ğ¸ Ğ¿Ğ¾Ğ´Ñ€ÑĞ´)
  longestStreak: number;      // Ğ›ÑƒÑ‡ÑˆĞ¸Ğ¹ streak
  thisMonthCount: number;     // Ğ¡ĞµÑÑĞ¸Ğ¹ Ğ² ÑÑ‚Ğ¾Ğ¼ Ğ¼ĞµÑÑÑ†Ğµ
}
```

### Ğ˜Ğ½ÑĞ°Ğ¹Ñ‚Ñ‹ (insights)

```typescript
interface Insights {
  averageSessionsPerWeek: number;   // Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ ÑĞµÑÑĞ¸Ğ¹ Ğ² Ğ½ĞµĞ´ĞµĞ»Ñ
  mostActiveTimeOfDay: string;      // Ğ¡Ğ°Ğ¼Ğ¾Ğµ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ğ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ Ğ´Ğ½Ñ
  averageMessageCount: number;      // Ğ¡Ñ€ĞµĞ´Ğ½ĞµĞµ ÑĞ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğ¹ Ğ² ÑĞµÑÑĞ¸Ğ¸
  consistencyScore: number;         // ĞŸÑ€Ğ¾Ñ†ĞµĞ½Ñ‚ Ñ€ĞµĞ³ÑƒĞ»ÑÑ€Ğ½Ğ¾ÑÑ‚Ğ¸
  topWords: Array<{                 // Ğ¢Ğ¾Ğ¿-10 Ñ‡Ğ°ÑÑ‚Ğ¾ Ğ¸ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼Ñ‹Ñ… ÑĞ»Ğ¾Ğ²
    word: string;
    count: number;
  }>;
}
```

---

## Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ ÑĞµÑÑĞ¸Ğ¹

```typescript
type FilterType = 'all' | 'morning' | 'evening' | 'free';
type DateRangeType = 'all' | 'today' | 'week' | 'month' | 'custom';

const applyFilters = () => {
  let filtered = [...sessions];

  // Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¿Ğ¾ Ñ‚Ğ¸Ğ¿Ñƒ ÑĞµÑÑĞ¸Ğ¸
  if (filterType !== 'all') {
    filtered = filtered.filter(s => s.session_type === filterType);
  }

  // Ğ¤Ğ¸Ğ»ÑŒÑ‚Ñ€ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ
  if (dateRange === 'today') {
    filtered = filtered.filter(s => new Date(s.started_at) >= today);
  } else if (dateRange === 'week') {
    filtered = filtered.filter(s => new Date(s.started_at) >= weekAgo);
  } else if (dateRange === 'month') {
    filtered = filtered.filter(s => new Date(s.started_at) >= monthAgo);
  }

  // ĞŸĞ¾Ğ¸ÑĞº Ğ¿Ğ¾ Ñ‚ĞµĞºÑÑ‚Ñƒ
  if (searchQuery.trim()) {
    filtered = filtered.filter(s =>
      s.preview.toLowerCase().includes(searchQuery.toLowerCase())
    );
  }

  setFilteredSessions(filtered);
};
```

---

## Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…

### Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² Ñ‚ĞµĞºÑÑ‚

```typescript
const exportAsText = async () => {
  let text = `JOURNAL EXPORT\nGenerated: ${exportDate}\n`;
  text += 'â•'.repeat(50) + '\n\n';

  for (const { session, messages } of exportData) {
    text += `${date} - ${type} Reflection\n`;
    text += 'â”€'.repeat(50) + '\n\n';

    messages.forEach((msg) => {
      const sender = msg.message_type === 'app' ? 'App' : 'You';
      text += `${sender}: ${msg.content}\n\n`;
    });

    text += 'â”€'.repeat(50) + '\n\n';
  }

  // Ğ¡ĞºĞ°Ñ‡Ğ°Ñ‚ÑŒ ĞºĞ°Ğº .txt Ñ„Ğ°Ğ¹Ğ»
  const blob = new Blob([text], { type: 'text/plain' });
  downloadFile(blob, `journal-export-${date}.txt`);
};
```

### Ğ­ĞºÑĞ¿Ğ¾Ñ€Ñ‚ Ğ² JSON

```typescript
const exportAsJSON = () => {
  const data = JSON.stringify(sessions, null, 2);
  const blob = new Blob([data], { type: 'application/json' });
  downloadFile(blob, `journal-export-${date}.json`);
};
```

---

## Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° ÑĞµÑÑĞ¸Ğ¹ Ğ¿Ğ¾ Ğ´Ğ°Ñ‚Ğµ

```typescript
const groupSessionsByDate = (sessions: Session[]) => {
  const groups: { [key: string]: Session[] } = {};

  sessions.forEach((session) => {
    const sessionDate = new Date(session.started_at);
    
    let dateKey: string;
    if (isToday(sessionDate)) {
      dateKey = 'Today';
    } else if (isYesterday(sessionDate)) {
      dateKey = 'Yesterday';
    } else {
      dateKey = format(sessionDate, 'MMMM d, yyyy');
    }
    
    if (!groups[dateKey]) groups[dateKey] = [];
    groups[dateKey].push(session);
  });

  return groups;
};
```

---

## Ğ£Ğ´Ğ°Ğ»ĞµĞ½Ğ¸Ğµ ÑĞµÑÑĞ¸Ğ¹

```typescript
const handleDelete = async () => {
  if (deleteTarget.type === 'all') {
    // Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ Ğ²ÑĞµ ÑĞµÑÑĞ¸Ğ¸ Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»Ñ
    await supabase
      .from('journal_sessions')
      .delete()
      .eq('user_id', user.id);
  } else if (deleteTarget.id) {
    // Ğ£Ğ´Ğ°Ğ»Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ½ĞºÑ€ĞµÑ‚Ğ½ÑƒÑ ÑĞµÑÑĞ¸Ñ
    await supabase
      .from('journal_sessions')
      .delete()
      .eq('id', deleteTarget.id);
  }
  
  loadSessions();
};
```

---

## Ğ Ğ°ÑÑ‡Ñ‘Ñ‚ streaks

```typescript
const calculateStreaks = (sessions: Session[]) => {
  const dates = sessions.map(s => new Date(s.started_at).toDateString());
  const uniqueDates = [...new Set(dates)];
  
  let currentStreak = 0;
  let longestStreak = 0;
  
  const today = new Date().toDateString();
  const yesterday = new Date(Date.now() - 86400000).toDateString();
  
  // ĞŸÑ€Ğ¾Ğ²ĞµÑ€Ğ¸Ñ‚ÑŒ, Ğ¿Ñ€Ğ¾Ğ´Ğ¾Ğ»Ğ¶Ğ°ĞµÑ‚ÑÑ Ğ»Ğ¸ streak
  if (uniqueDates.includes(today) || uniqueDates.includes(yesterday)) {
    currentStreak = 1;
    
    // Ğ¡Ñ‡Ğ¸Ñ‚Ğ°Ñ‚ÑŒ Ğ½Ğ°Ğ·Ğ°Ğ´
    for (let i = uniqueDates.length - 2; i >= 0; i--) {
      const curr = new Date(uniqueDates[i]);
      const next = new Date(uniqueDates[i + 1]);
      const diffDays = Math.floor((next - curr) / 86400000);
      
      if (diffDays === 1) {
        currentStreak++;
      } else {
        break;
      }
    }
  }

  // ĞĞ°Ğ¹Ñ‚Ğ¸ ÑĞ°Ğ¼Ñ‹Ğ¹ Ğ´Ğ»Ğ¸Ğ½Ğ½Ñ‹Ğ¹ streak
  let tempStreak = 1;
  for (let i = 1; i < uniqueDates.length; i++) {
    const curr = new Date(uniqueDates[i - 1]);
    const next = new Date(uniqueDates[i]);
    const diffDays = Math.floor((next - curr) / 86400000);
    
    if (diffDays === 1) {
      tempStreak++;
      longestStreak = Math.max(longestStreak, tempStreak);
    } else {
      tempStreak = 1;
    }
  }

  return { currentStreak, longestStreak };
};
```
